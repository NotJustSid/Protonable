<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <title>Protonable</title>

    <!--UI-->
    
    <script src="UI/jquery-3.3.1.slim.min.js"></script>
    <link rel="stylesheet" href="UI/Darkly/bootstrap.min.css">
    <script src="UI/jquery.min.js"></script>
    <script src="UI/bootstrap.min.js"></script>
    <script src="UI/popper.min.js"></script>
    <script src="UI/bootstrap.min.js"></script>
    <script src="UI/jquery-ui.js"></script>

    <link href="UI/jquery-ui.css" rel="stylesheet">
    <link href="UI/jquery-ui.structure.css" rel="stylesheet">
    <link href="fontawesome/css/all.min.css" rel="stylesheet">

    <!--CodeMirror for the Text Area-->
    <script src="textarea/lib/codemirror.js"></script>
    <link rel="stylesheet" href="textarea/lib/codemirror.css">
    <link rel="stylesheet" href="node_modules/codemirror-colorpicker/dist/codemirror-colorpicker.css">

    <!--Themes for it-->
    <link href="textarea/theme/pastel-on-dark.css" rel="stylesheet">
    <link href="textarea/theme/darcula.css" rel="stylesheet">
    <link href="textarea/theme/cobalt.css" rel="stylesheet">
    <link href="textarea/theme/solarized.css" rel="stylesheet">
    <link href="textarea/theme/shadowfox.css" rel="stylesheet">
    <link href="textarea/theme/seti.css" rel="stylesheet">
    <link href="textarea/theme/rubyblue.css" rel="stylesheet">
    <link href="textarea/theme/railscasts.css" rel="stylesheet">
    <link href="textarea/theme/paraiso-light.css" rel="stylesheet">
    <link href="textarea/theme/paraiso-dark.css" rel="stylesheet">
    <link href="textarea/theme/panda-syntax.css" rel="stylesheet">
    <link href="textarea/theme/oceanic-next.css" rel="stylesheet">
    <link href="textarea/theme/night.css" rel="stylesheet">
    <link href="textarea/theme/neo.css" rel="stylesheet">
    <link href="textarea/theme/neat.css" rel="stylesheet">
    <link href="textarea/theme/monokai.css" rel="stylesheet">
    <link href="textarea/theme/midnight.css" rel="stylesheet">
    <link href="textarea/theme/mdn-like.css" rel="stylesheet">
    <link href="textarea/theme/mbo.css" rel="stylesheet">
    <link href="textarea/theme/material.css" rel="stylesheet">
    <link href="textarea/theme/lucario.css" rel="stylesheet">
    <link href="textarea/theme/liquibyte.css" rel="stylesheet">
    <link href="textarea/theme/lesser-dark.css" rel="stylesheet">
    <link href="textarea/theme/isotope.css" rel="stylesheet">
    <link href="textarea/theme/idea.css" rel="stylesheet">
    <link href="textarea/theme/icecoder.css" rel="stylesheet">
    <link href="textarea/theme/hopscotch.css" rel="stylesheet">
    <link href="textarea/theme/gruvbox-dark.css" rel="stylesheet">
    <link href="textarea/theme/erlang-dark.css" rel="stylesheet">
    <link href="textarea/theme/elegant.css" rel="stylesheet">
    <link href="textarea/theme/eclipse.css" rel="stylesheet">
    <link href="textarea/theme/duotone-light.css" rel="stylesheet">
    <link href="textarea/theme/duotone-dark.css" rel="stylesheet">
    <link href="textarea/theme/colorforth.css" rel="stylesheet">
    <link href="textarea/theme/blackboard.css" rel="stylesheet">
    <link href="textarea/theme/bespin.css" rel="stylesheet">
    <link href="textarea/theme/base16-light.css" rel="stylesheet">
    <link href="textarea/theme/base16-dark.css" rel="stylesheet">
    <link href="textarea/theme/ambiance.css" rel="stylesheet">
    <link href="textarea/theme/ambiance-mobile.css" rel="stylesheet">
    <link href="textarea/theme/abcdef.css" rel="stylesheet">
    <link href="textarea/theme/3024-night.css" rel="stylesheet">
    <link href="textarea/theme/3024-day.css" rel="stylesheet">
    <link href="textarea/theme/zenburn.css" rel="stylesheet">
    <link href="textarea/theme/yeti.css" rel="stylesheet">
    <link href="textarea/theme/xq-light.css" rel="stylesheet">
    <link href="textarea/theme/xq-dark.css" rel="stylesheet">
    <link href="textarea/theme/vibrant-ink.css" rel="stylesheet">
    <link href="textarea/theme/twilight.css" rel="stylesheet">
    <link href="textarea/theme/ttcn.css" rel="stylesheet">
    <link href="textarea/theme/tomorrow-night-eighties.css" rel="stylesheet">
    <link href="textarea/theme/tomorrow-night-bright.css" rel="stylesheet">
    <link href="textarea/theme/the-matrix.css" rel="stylesheet">
    <link href="textarea/theme/ssms.css" rel="stylesheet">
    <!--Themes Ends Here-->

    <!--Editor Modes-->
    <script src="textarea/mode/clike/clike.js"></script>
    <script src="textarea/mode/apl/apl.js"></script>
    <script src="textarea/mode/brainfuck/brainfuck.js"></script>
    <script src="textarea/mode/clojure/clojure.js"></script>
    <script src="textarea/mode/cmake/cmake.js"></script>
    <script src="textarea/mode/coffeescript/coffeescript.js"></script>
    <script src="textarea/mode/css/css.js"></script>
    <script src="textarea/mode/django/django.js"></script>
    <script src="textarea/mode/go/go.js"></script>
    <script src="textarea/mode/haml/haml.js"></script>
    <script src="textarea/mode/haskell-literate/haskell-literate.js"></script>
    <script src="textarea/mode/haskell/haskell.js"></script>
    <script src="textarea/mode/javascript/javascript.js"></script>
    <script src="textarea/mode/livescript/livescript.js"></script>
    <script src="textarea/mode/markdown/markdown.js"></script>
    <script src="textarea/mode/mathematica/mathematica.js"></script>
    <script src="textarea/mode/pascal/pascal.js"></script>
    <script src="textarea/mode/perl/perl.js"></script>
    <script src="textarea/mode/php/php.js"></script>
    <script src="textarea/mode/powershell/powershell.js"></script>
    <script src="textarea/mode/python/python.js"></script>
    <script src="textarea/mode/ruby/ruby.js"></script>

    <!--Reqd for Rust-->
    <script src="textarea/addon/mode/simple.js"></script>
    <script src="textarea/mode/rust/rust.js"></script>


    <script src="textarea/mode/sass/sass.js"></script>
    <script src="textarea/mode/shell/shell.js"></script>
    <script src="textarea/mode/slim/slim.js"></script>
    <script src="textarea/mode/sql/sql.js"></script>
    <script src="textarea/mode/swift/swift.js"></script>
    <script src="textarea/mode/vb/vb.js"></script>
    <script src="textarea/mode/vbscript/vbscript.js"></script>
    <script src="textarea/mode/vue/vue.js"></script>
    <script src="textarea/mode/xml/xml.js"></script>
    <script src="textarea/mode/htmlmixed/htmlmixed.js"></script>

    
    <script src="textarea/addon/fold/foldcode.js"></script>
    <script src="textarea/addon/selection/active-line.js"></script>
    <link rel="stylesheet" href="textarea/addon/fold/foldgutter.css">
    <script src="textarea/addon/fold/comment-fold.js"></script>
    <script src="textarea/addon/fold/brace-fold.js"></script>
    <script src="textarea/addon/fold/foldgutter.js"></script>
    <script src="textarea/addon/fold/indent-fold.js"></script>
    <script src="textarea/addon/fold/markdown-fold.js"></script>
    <script src="textarea/addon/fold/xml-fold.js"></script>
    <script src="textarea/addon/edit/closebrackets.js"></script>
    <script src="textarea/addon/search/search.js"></script>
    <script src="textarea/addon/edit/matchbrackets.js"></script>
    <script src="textarea/addon/search/match-highlighter.js"></script>
    <script src="textarea/addon/search/jump-to-line.js"></script>
    <script src="textarea/addon/search/matchesonscrollbar.js"></script>
    <script src="textarea/addon/search/searchcursor.js"></script>
    <link href="textarea/addon/search/matchesonscrollbar.css" rel="stylesheet">
    <script src="textarea/addon/hint/show-hint.js"></script>
    <script src="textarea/addon/hint/anyword-hint.js"></script>
    <link href="textarea/addon/hint/show-hint.css" rel="stylesheet">
    <script src="textarea/addon/edit/closetag.js"></script>
    <script src="textarea/addon/comment/comment.js"></script>

    <script src="renderer.js"></script>

    <script src="scripts/modal_previewers.js"></script>
    <script src="scripts/terminalOpen.js"></script>
    <script src="scripts/findReplace.js"></script>
    <script src="scripts/modalFunctions.js"></script>
    <script src="scripts/bookmarks.js"></script>
    <script src="scripts/timer.js"></script>
    <script src="scripts/focusMode.js"></script>

    <link href="css/navBar.css" rel="stylesheet">
    <link href="css/fileExplorer.css" rel="stylesheet">
    <link href="css/startAnim.css" rel="stylesheet">
    <link href="css/Minimap.css" rel="stylesheet">
    <link href="css/BottomBar.css" rel="stylesheet">

    <style>
        body{
            margin: 0;
            overflow: hidden !important;
        }
        
        .CodeMirror {
            font-size: 28px;
        }

        .CodeMirror-hints {
            font-size: 20px;
            background-color: rgb(39, 36, 36, 0.753);
            overflow: hidden;
            border: 0;
        }

        .CodeMirror-hint {
            background-color: rgba(39, 36, 36, 0.753);
            color: white;
        }

        .CodeMirror-hint-active {
            background-color: rgb(15, 135, 233);
        }
        .panebtn_{
            background-color: rgb(36, 36, 36);
            border: 0;
            margin: 0;
            height: 30px;
            position: relative;
            bottom: 16.5px;
            margin-right: 20px;
            font-size: 18px;
            float: right;
            color: white; 
            border-radius: 5px;
        }
        .panebtn_:hover{
            background-color: #444;
        }
        .panebtn_:focus{
            outline: none;
        }
        #prodirchoose{
            display: none;
        }
       .modal{
            position:fixed;
            top:3vh;
            right:10px;
            left:auto;
        }
    </style>
    <style id="1">.navy-item:hover{ background-color: #16cac1  }</style>
    <style id="2">.info-item:hover{ background-color: #242424 }</style>
</head>

<body>

    <!--Nav Menu-->
    <nav class="navy-main">

        <div class="logo">Protonable</div>

        <ul>

            <li>
                <a href="#" class="navy-item">File</a>
                <div class="navy-content">
                    <div class="navy-sub">
                        <ul>
                            <li>
                                <a href="#" onmousedown="newfile()">New File</a>
                                <span class="navy-info">Ctrl/Cmd+N</span>
                            </li>
                            <li>
                                <a href="#" onmousedown="newproject()">New Project Folder</a>
                                <span class="navy-info">Ctrl/Cmd+Shift+N</span>
                            </li>
                            <li>
                                <a href="#" onmousedown="openfile()">Open File</a>
                                <span class="navy-info">Ctrl/Cmd+O</span>
                            </li>
                            <li>
                                <a href="#" onmousedown="savefile()">Save</a>
                                <span class="navy-info">Ctrl/Cmd+S</span>
                            </li>
                            <li>
                                <a href="#" onmousedown="newfile()">Save As</a>
                                <span class="navy-info">Ctrl/Cmd+Shift+S</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </li>

            <li>
                <a href="#" class="navy-item">Edit</a>
                <div class="navy-content">
                    <div class="navy-sub">
                        <ul>
                            <li>
                                <a data-toggle="modal" href="#Find" onmousedown="showFind()">Find</a>
                                <span class="navy-info">Ctrl/Cmd+F</span>
                            </li>
                            <li>
                                <a data-toggle="modal" href="#Replace" onmousedown="showReplace()">Replace</a>
                                <span class="navy-info">Ctrl/Cmd+Shift+F</span>
                            </li>
                            <hr style="width: 98%; text-align:center; height:0.9px; background-color: white;">
                            <li>
                                <a href="#" onmousedown="undo()">Undo</a>
                                <span class="navy-info">Ctrl/Cmd+Z</span>
                            </li>
                            <li>
                                <a href="#" onmousedown="redo()">Redo</a>
                                <span class="navy-info">Ctrl/Cmd+Y</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </li>

            <li>
                <a href="#" class="navy-item">Settings</a>
                <div class="navy-content">
                    <div class="navy-sub">
                        <ul>
                            <li>
                                <a data-toggle="modal" href="#Theme" onmousedown="showTheme()">Theme Settings</a>
                            </li>
                            <li>
                                <a data-toggle="modal" href="#FontSet" onmousedown="showFont()">Font Settings</a>
                            </li>
                            <li>
                                <a onmousedown="showUI()">UI Settings</a>
                            </li>
                            <li>
                                <a onmousedown="showHelp()">Help</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </li>

        </ul>
        <span class="close-my" id="close-btn"><button style="all: unset;">&times;</button></span>
        <span class="close-my" id="max-btn"><button style="all: unset;">&boxH;</button></span>
        <span class="close-my" id="min-btn"><button style="all: unset;">&minus;</button></span>
    </nav>
    
    <!--MODALS-->
    <div class="modal" id="Theme">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Change Theme</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group modal-body">

                        <label for="theme" id="text-theme">Please Select Your Theme from here:</label>
                        <select class="form-control" id="themebtn">
                            <option value="pastel-on-dark">Pastel On Dark</option>
                            <option value="default">Standard</option>
                            <option value="darcula">Darcula</option>
                            <option value="cobalt">Cobalt</option>
                            <option value="solarized">Solarized</option>
                            <option value="shadowfox">ShadowFox</option>
                            <option value="seti">Seti</option>
                            <option value="rubyblue">RubyBlue</option>
                            <option value="railcasts">RailsCasts</option>
                            <option value="paraiso-light">Paraiso-Light</option>
                            <option value="paraiso-dark">Paraiso-Dark</option>
                            <option value="panda-syntax">Panda Syntax</option>
                            <option value="oceanic-next">Oceanic Next</option>
                            <option value="night">Night</option>
                            <option value="neo">Neo</option>
                            <option value="neat">Neat</option>
                            <option value="monokai">Monokai</option>
                            <option value="midnight">Midnight</option>
                            <option value="mdn-like">MDN Like</option>
                            <option value="mbo">MBO</option>
                            <option value="material" selected>Material</option>
                            <option value="lucario">Lucario</option>
                            <option value="liquibyte">Liquibyte</option>
                            <option value="lesser-dark">Lesser Dark</option>
                            <option value="isotope">Isotope</option>
                            <option value="idea">IDEA</option>
                            <option value="icecoder">IceCoder</option>
                            <option value="hopscotch">Hopscotch</option>
                            <option value="gruvbox-dark">Gruvbox Dark</option>
                            <option value="erlang-dark">Erlang Dark</option>
                            <option value="elegant">Elegant</option>
                            <option value="eclipse">Eclipse</option>
                            <option value="duotone-light">Duotone Light</option>
                            <option value="duotone-dark">Duotone Dark</option>
                            <option value="colorforth">ColorForth</option>
                            <option value="blackboard">BlackBoard</option>
                            <option value="bespin">Bespin</option>
                            <option value="base16-light">Base16 Light</option>
                            <option value="base16-dark">Base16 Dark</option>
                            <option value="ambiance">Ambiance</option>
                            <option value="ambiance-mobile">Ambiance Mobile</option>
                            <option value="abcdef">ABCDEF</option>
                            <option value="3024-night">3024 Night</option>
                            <option value="3024-day">3024 Day</option>
                            <option value="zenburn">Zenburn</option>
                            <option value="yeti">Yeti</option>
                            <option value="xq-light">XQ Light</option>
                            <option value="xq-dark">XQ Dark</option>
                            <option value="vibrant-ink">Vibrant Ink</option>
                            <option value="twilight">Twilight</option>
                            <option value="ttcn">TTCN</option>
                            <option value="tomorrow-night-eighties">Tomorrow Night Eighties</option>
                            <option value="tomorrow-night-bright">Tomorrow Night Bright</option>
                            <option value="the-matrix">The Matrix</option>
                            <option value="ssms">SSMS</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="tupdate()">Save Changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="FontSet">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        Change Font Settings
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">


                        <p class="lead" id="intext">Change Font-Size:
                            <select class="form-control" id="fontval">
                                <option value="14">14</option>
                                <option value="16">16</option>
                                <option value="18">18</option>
                                <option value="20">20</option>
                                <option value="22">22</option>
                                <option value="24">24</option>
                                <option value="26">26</option>
                                <option selected value="28">28</option>
                                <option value="32">32</option>
                                <option value="48">48</option>
                                <option value="72">72</option>
                                <option value="96">96</option>
                                <option value="108">108</option>
                            </select>
                        </p>
                        <hr class="my-4">

                        <p class="lead" id="intext2">
                            Change Font Face:
                            <select class="form-control" id="fontval2">
                                <option value="Arial">Arial</option>
                                <option value="Calibri">Calibri</option>
                                <option value="Consolas" selected>Consolas</option>
                                <option value="Courier">Courier</option>
                                <option value="Lucida Console">Lucida Console</option>
                                <option value="Segoe UI">Segoe UI</option>
                                <option value="Times New Roman">Times New Roman</option>
                            </select>
                        </p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="fupdate()">Save Changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="Find">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        Find
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">
                        <input class="form-control form-control-lg" type="text" placeholder="What to Find?" onkeyup="search('query')" id="query" autofocus>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" onmousedown="search2('query')">Find Next</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="cursorPos">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        Change Cursor Position
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">
                        <input class="form-control form-control-sm" type="text" placeholder="Line No." id="lineNoValue">
                        <hr class="my-4">
                        <input class="form-control form-control-sm" type="text" placeholder="Col No."  id="colNoValue" >
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" onclick="changePos()">Go</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="Replace">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        Replace
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">
                        <input class="form-control form-control-lg" type="text" placeholder="What to Replace?" id="query2" autofocus>
                        <hr class="my-4">
                        <input class="form-control form-control-lg" type="text" placeholder="Replace With" id="replace">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" onmousedown="replace()">Replace All</button>
                    <button type="button" class="btn btn-success" onmousedown="search2('query2')">Find First</button>
                    <button type="button" class="btn btn-success" onmousedown="replace2()">Replace Then</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="Propath">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        New Project
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">
                    <label id="prodirWrap" style="text-decoration: underline; font-weight:bold;">
                        Directory: 
                        <input class="form-control form-control-lg" type="file" id="prodirchoose"  webkitdirectory>
                    </label>
                        <hr class="my-4">
                        <input class="fo̥rm-control form-control-lg" type="text" placeholder="Project Name" id="proname">
                    </div>
                </div>
                <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onclick="dirchoosed()">Create</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="ModeModal">

        <div class="modal-dialog" role="document">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title">
                        Choose Mode
                    </h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="form-group modal-body">
                            <div class="form-group">
                                    <select class="custom-select" id="mode_select">
                                      <option value=".cpp">C++</option>
                                      <option value=".c">C</option>
                                      <option value=".py">Python</option>
                                      <option value=".js">JavaScript</option>
                                      <option value=".md">MarkDown</option>
                                      <option value=".html">HTML</option>
                                      <option value=".css">CSS</option>
                                      <option value=".txt">Text</option>
                                      <option value=".gitignore">gitignore</option>
                                      <option value=".java">Java</option>
                                      <option value=".cs">C#</option>
                                    </select>
                            </div>
                    </div>
                    <div class="modal-footer">
                            <button type="button" class="btn btn-success" onclick="extensionCheck(document.getElementById('mode_select').value)">Change</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="UI">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">UI Settings</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group modal-body">
                        <b>NavBar Color:</b>
                        <br>
                        <input id="navBarColor" type="color" value="#146cf8" style="padding: 0;border: none;background:none;">
                        <br><br>
                        <b>BottomBar Color:</b>
                        <br>
                        <input id="btmBarColor" type="color" value="#146cf8"  style="padding: 0;border: none;background:none;">
                        <br><br>
                        <b>NavBar Hover Color:</b>
                        <br>
                        <input id="navBarhColor" type="color" value="#16cac1"  style="padding: 0;border: none;background:none;">
                        <br><br>
                        <b>BottomBar Hover Color:</b>
                        <br>
                        <input id="btmBarhColor" type="color" value="#242424"  style="padding: 0;border: none;background:none;">
                        <br><br>
                       </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="uiSave()">Save Changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="Help" style="position:absolute;left:0;top:0; height:700px; width:100%; user-select: none;">
        <div class="modal-dialog" role="document" style="overflow-y: initial">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Help</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="height:50vh; overflow-y: scroll;">
                    <div class="form-group modal-body">
                        Created with Electron and <span style="color:red">&hearts;</span> by Sid!<br><br>
                        Here, you will be guided through the features of the app and how to use the app in
                        a productive manner!<br><br>
<p>
                           <b>
                            <u>A Note Before</u>    
                           </b>
                           <br><br>
                           Well, this app has taken me great effort to make. It is really hard to go through
                           docs on the Internet for hours. I would like to acknowledge the huge efforts of
                           those who actually simplified my task by already writing some other huge code.
                           <br><br>
                           <b>Protonable</b> is hugely made possible due to <b>CodeMirror</b>'s API and editing interface.
                           It saved me a ton of time, otherwise I would have had to write around 10-15K more lines of code.
                           Thanks to <b>Electron</b> for their amazing API. 
                           <br><br>
                           The <b>Bootstrap</b> Styles also saved me from 
                           writing additional CSS. Jquery helped me write short code. You can check the source code for Protonable
                           on <b><a href="https://github.com/Sid200/Protonable">Github</a></b>. It is totally free to take inspiration
                           and code new things from it. The app might get updates in the future as I uncover features of the Electron API
                           and according to the needs of people.<br><br>
                           This app is solely created by me. Nobody Helped Me!(That's rude, isn't it? XD)
                           <br><br>Now Onto Your Help with the app.<br>
</p>

<p>
    <b><u>UI Overview</u></b><br><br>
    <img src="screenshots/UI-Overview.png" height="100%" width="100%">
    <br><br>
    Click on the relevant buttons with the numbers of the parts you want to know about:
<br><br>
<ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link show" data-toggle="tab" href="#navBarInfo">1</a>
    </li>
    <li class="nav-item">
      <a class="nav-link show" data-toggle="tab" href="#editorInfo">2</a>
    </li>
    <li class="nav-item">
        <a class="nav-link show" data-toggle="tab" href="#fileExpInfo">3</a>
    </li>
    <li class="nav-item">
        <a class="nav-link show" data-toggle="tab" href="#btmBarInfo">4</a>
    </li>
  </ul>
  <div id="myTabContent" class="tab-content">
    <div class="tab-pane fade" id="navBarInfo">
      <p>
          <br><br>
          <b>NavBar</b>
          <br><br>
          The NavBar is basically the Menu-Bar(The topmost horizontal bar you see). 
          <br><br>
          It contains what my code calls as navy-items. The 'File', 'Settings'
          and other stuff are navy-items. Whenever hovered upon, their background-color changes. 
          <br><br>
          You can change what color appears from the UI Settings in Settings > UI Settings.
          <br><br>
      </p>
    </div>
    <div class="tab-pane fade" id="editorInfo">
      <p>
          <br><br>
          <b>Editor</b>
          <br><br>
          Just below, the NavBar, you have the editor itself where you type. 
          <br><br>
          The editor is even called so in my code.
          <br><br>
          The editor's font face/size and theme can be very easily changed from Settings > Font Settings and Settings > Theme Settings respectively.
          <br><br>
          Just beside the editor, if you see properly, there is a MiniMap. The Minimap is your scroll bar for the editor and shows what your code looks like 
          from a larger perspective. More about it in Features.
        <br><br>
      </p>
    </div>
    <div class="tab-pane fade" id="fileExpInfo">
        <p>
            <br><br>
            <b>File Explorer</b>
            <br><br>
            Just Below the 2 and above 4, you have the inbuilt File Explorer that Protonable offers you.
            <br><br>
            I think the name is pretty much self explanatory...
            <br><br>
        </p>
    </div>
    <div class="tab-pane fade" id="btmBarInfo">
        <p>
            <br><br>
            <b>Bottom Bar</b>
            <br><br>
            The Bottom Bar, like the NavBar has colors(both hover and background) which can be changed from UI Settings.
            <br><br>
            It displays some important information that you might need to know:
            <br><br>
            At the left most, it shows the name of the file you are working on. If no file is being worked upon, nothing shows up there.
            <br>
            This might not be there in the future, as I intend to make multiple files open in the future and that is not the best place to show their names 
            in.
            <br><br>
            Next, you got the Timer which basically says how long you have been working for.
            <br><br>
            At the right side, starting from the very beginning, we have the Mode. You can change the Mode of the editor.
            Mode basically means what type of file (like HTML or C++) you have been working on.
            <br><br>
            Then we got the feature to display what line and coloumn we have been typing in. If you click on that, you will be presented with the 
            GoTo Functionality.
            <br><br>
            The next button lets you change the Line Ending Type from CLRF to LF and vice versa.
            <br><br>
        </p>
    </div>
  </div>
</p>

<p>
    <b><u>Shortcuts</u></b>
    <br><br>Here are the current shortcuts Protonable has:
    <br><br>
    Here, Key refers to Ctrl/Cmd
    <br><br>
    <p><b><i><u>Key + S</u></i></b> : Save the File. If it doesn't exist, Protonable creates a new one.</p>
    <p><b><i><u>Key + Shift + S</u></i></b> : Save another File with the same contents of the current file.</p>
    <p><b><i><u>Key + N</u></i></b> : Create a New File with the current content.</p>
    <p><b><i><u>Key + Shift + N</u></i></b> : Create a New Project Directory to Work on.</p>
    <p><b><i><u>Key + O</u></i></b> : Open a File from the Default Explorer.</p>
    <p><b><i><u>Key + F</u></i></b> : Open Find Box</p>
    <p><b><i><u>Key + Shift + F</u></i></b> : Open Replace Box</p>
    <p><b><i><u>Key + Z</u></i></b> : Undo</p>
    <p><b><i><u>Key + Y</u></i></b> : Redo</p>
    <p><b><i><u>Key + D</u></i></b> : Open Focus Mode(See Features for Details)</p>
    <p><b><i><u>Key + Shift + D</u></i></b> : Close Focus Mode</p>
    <p><b><i><u>Key + Q</u></i></b> : Code Fold the Current Line(See Features)</p>
    <p><b><i><u>Key + ]</u></i></b> : Code Fold the Whole Document</p>
    <p><b><i><u>Key + [</u></i></b> : Code UnFold the Whole Document</p>
    <p><b><i><u>Key + E</u></i></b> : Show ColorPicker (Works with HTML and CSS files)</p>
</p>
<br><br>
<p>
    <b><u>Features</u></b>
    <br><br>
    Here are some noticable features Protonable currently has:
    <br><br>
    <b>1)Focus Mode</b> : Let's you focus just on your code by removing everything else than the editor.
    To use it, you have been given shortcuts.
    Note However, the MiniMap stays.
    <br><br>
    <b>2)Multiple Cursors</b> : You can type simultaneously in multiple lines by using this feature.
    To use it, just press Ctrl/Cmd and click on the part where you want to add your cursor.
    <br><br>
    <b>3)MiniMap</b> : The MiniMap is still under development.
    <br><br>
</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div id="BookModal" class="modal">
        <div class="modal-dialog" role="document" style="overflow-y: initial">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">BookMarks</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" style="height: 50vh;overflow-y: auto;">
                <div id="BookCover">
                    <div id="Book" class="list-group">
                    </div>
            </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    <!--MODALS END-->

    <!--EDITOR-->
    <div id="block">   
    <textarea id="editor"></textarea>
    </div>
    <!--EDITOR END-->

    <!--Maybe Minimap -->
    <div style="position:absolute; right:0px;" onclick="MiniMap()">
    <textarea id="Minimap"></textarea>
    </div>
    <!--ENDS-->

    <div id="FileExplorer">
            <span id="pane">
                    <button class="panebtn_" onmousedown="showTerminal()">
                        Terminal
                    </button>
                    <button class="panebtn_" style="font-size:x-large;line-height: 1px;" onclick="readDir(path.dirname(localStorage.getItem('lastFile')))">&#x21BB;</button>
                    <button class="panebtn_" onmousedown="showBook()">
                        Bookmarks
                    </button>
                    </span>
        <div class="pane-group">
            <div class="pane-sm sidebar">
                <button class="btn btn-large btn-outline-secondary center" style="position:absolute;bottom: 110px; left: 8px; width:38px;" onmousedown="goback()">&lt;</button>
                <ul class="list-group">
                    <li class="list-group-header" style="list-style:none;position:absolute; bottom: 110px; left:50px; width: 40vw;">
                        <input id="fileSearcher" class="form-control" style="background-color: #444; color: white;" type="text" placeholder="Search In Current Directory" onkeyup="fileSearch()">
                    </li>
                    <li class="list-group-item" style="margin:0;padding:0;height:125px;width:98.6vw;left:10px;bottom:-30px;">
                        
                            <ul id="file-list" style="list-style:none; padding: 0">
                                
                            </ul>  
                    </li>
                 </ul>
                 </div>
         </div>
    </div>

    <!--BOTTOM TAB-->
    <div id="btm-info">

        <li class="info-item" onmousedown="lineFeed()">
            
            <button id="lineFeed" style="all:unset">CLRF</button>

        </li>
        
        <li class="info-item">
            
            <button style="all:unset" id="line-ch" onmousedown="line_col()">Line: <span id="line-no.">1</span>,&nbsp; Col: <span id="col-no.">1</span></button>

        </li>
        
        <li class="info-item">
            <button style="all:unset" id="editor-mode" onmousedown="showMode()">Text</button>
        </li>



        <li id="fileInfo"></li>
        <li class="info-item" style="float: left;">
            Working For: &nbsp;
                <label id="minutes">00</label>:<label id="seconds">00</label>
        </li>
    </div>

</body>

<script>

require( 'codemirror-colorpicker' );
var shell = require('electron').shell;

var linesBooked = [];

function removeDuplicates(arr){
    let unique_array = Array.from(new Set(arr))
    return unique_array
}

var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
        mode: null,  //default for text
        lineWrapping: true,
        lineNumbers: true,
        autoCloseBrackets: true,
        electricChars: true,
        matchBrackets: true,
        autofocus: true,
        scrollbarStyle: 'null',
        foldGutter: true,
        gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
        colorpicker : {
            mode : 'edit',
            type: 'sketch'
                },
        extraKeys: {

    "Ctrl-S": function() { 
      savefile();
    },
    "Cmd-S": function(){
        savefile();
    },
    "Ctrl-Q": function(cm){ 
        cm.foldCode(cm.getCursor()); 
    },
    "Cmd-Q": function(cm){
        cm.foldCode(cm.getCursor());
    },
    "Ctrl-N": function() { 
      newfile();
    },
    "Cmd-N": function(){
        newfile();
    },
    "Ctrl-O": function() { 
      openfile();
    },
    "Cmd-O": function(){
        openfile();
    },
    "Shift-Ctrl-S": function(){
        newfile();
    },
    "Shift-Cmd-S": function(){
        newfile();
    }, 
    "Shift-Ctrl-N": function(){
        newproject();
    },
    "Shift-Cmd-N": function(){
        newproject();
    },
    "Ctrl-F": function(){
        showFind();
    },
    "Cmd-F": function(){
        showFind();
    },
    "Shift-Ctrl-F": function(){
        showReplace();
    },
    "Shift-Cmd-F": function(){
        showReplace();
    },
    "Ctrl-]": cm => CodeMirror.commands.foldAll(cm),
    "Cmd-]": cm => CodeMirror.commands.foldAll(cm),
    "Ctrl-[": cm => CodeMirror.commands.unfoldAll(cm),
    "Cmd-[": cm => CodeMirror.commands.foldAll(cm),
    "Ctrl-B": function(){
        linesBooked.push(editor.getCursor().line+1);
        linesBooked = removeDuplicates(linesBooked);
        readBook();
    },
    "Shift-Ctrl-B": function(){
        var index = linesBooked.indexOf(editor.getCursor().line+1);
        if (index !== -1) linesBooked.splice(index, 1);
        readBook();
    },
    "Ctrl-D": function(){
        FocusMode(false);
    },
    "Cmd-D": function(){
        FocusMode(false);
    },
    "Shift-Ctrl-D": function(){
        FocusMode(true);
    },
    "Shift-Cmd-D": function(){
        FocusMode(true);
    },
    }
});

var minimap = CodeMirror.fromTextArea(document.getElementById('Minimap'), {
        mode: null,
        scrollbarStyle: 'native',
        lineWrapping: true,
        cursorBlinkRate: -10,
        readOnly: true,
});

$(document).on('click', 'a[href^="http"]', function(event) {
        event.preventDefault();
        shell.openExternal(this.href);
    });

minimap.setSize(110, window.innerHeight-290);
minimap.getWrapperElement().style.fontSize = "4px";
minimap.getWrapperElement().style.letterSpacing = "-1px";


//COLOR PICKER
function getColorPick(){
    var map = 
    {
        'Ctrl-E' : function (cm, event) {
            cm.state.colorpicker.popup_color_picker();
       }
    }

    editor.addKeyMap(map);

}

editor.setSize(window.innerWidth - 110.8, window.innerHeight - 290);

//To deal with the window being resized but the editor not being so
window.addEventListener('resize', ()=>{
    editor.setSize(window.innerWidth-110.8, window.innerHeight - 290);
    document.getElementById('pane').style.right = window.innerWidth-20;
});


//To change the Line Ending Format
function lineFeed(){
        var encoding = document.getElementById('lineFeed');
        if(encoding.innerText === "CLRF"){
                encoding.innerText = "LF";
                editor.setOption('lineSeparator', "LF");
                                            }

        else{

    encoding.innerText = "CLRF";
    editor.setOption('lineSeparator', null);
}
};

//To Use Find/Replace Functionality


//To create Directory for New Project
function dirchoosed(){
    if(document.getElementById('prodirchoose').files[0] !== undefined){

        var dir = document.getElementById('prodirchoose').files[0].path;
        var proname = document.getElementById('proname').value;

        if(proname === undefined) alert('No Project Name!');

        fs.mkdir(dir+'//'+proname, (err) => {
        if (err) alert(err);
        return;
        });
    }else{
        alert('No Root Directory Selected!');
        }
}



//To apply theme & font selected by user on loadback
var size    = localStorage.getItem("size");
var face    = localStorage.getItem("face");
var theme   = localStorage.getItem("THEME");
var NavHC   = localStorage.getItem("NavHC");
var BtmHC   = localStorage.getItem("BtmHC");
var NavC    = localStorage.getItem("NavC");
var BtmC    = localStorage.getItem("BtmC");
var hover1  = document.getElementById('1');
var hover2  = document.getElementById('2');
if(size)
    editor.getWrapperElement().style.fontSize = size + "px";
if(face)
    editor.getWrapperElement().style.fontFamily = face;
if(theme)
    editor.setOption("theme", theme);
if(NavHC)
    hover1.innerHTML = `.navy-item:hover{ background-color: ${NavHC} }`;
if(NavC)
    document.getElementsByClassName('navy-main')[0].style.backgroundColor = NavC;
if(BtmHC)
    hover2.innerHTML = `.info-item:hover{ background-color: ${BtmHC} }`;
if(BtmC)
    document.getElementById('btm-info').style.backgroundColor = BtmC;

setInterval(setTime, 1000);

//AutoComplete--Still In Work
editor.on("keypress", function (cm, event) {
        if (!cm.state.completionActive && !(event.keyCode>=8 && event.keyCode<=47)) { 
            CodeMirror.commands.autocomplete(cm, null, {
                completeSingle: false
            });
        }
    });

//To Search through the files in the File Explorer.
function fileSearch(){
    var searchFile = document.getElementById('fileSearcher').value;

  var ul, li, a, i, txtValue;
  ul = document.getElementById("file-list");
  li = ul.getElementsByTagName('li');

  for (i = 0; i < li.length; i++) {
    span = li[i].getElementsByTagName("span")[0];
    txtValue = span.textContent || span.innerText;
    if (txtValue.indexOf(searchFile) > -1) {
      li[i].style.display = "";
    } else {
      li[i].style.display = "none";
    }
  }
}

//Close, Maximize and Minimize Functionality
(function () {
            // Retrieve remote BrowserWindow
            const {BrowserWindow} = require('electron').remote

            function init() {
                // Minimize task
                document.getElementById("min-btn").addEventListener("click", (e) => {
                    var window = BrowserWindow.getFocusedWindow();
                    window.minimize();
                });

                // Maximize window
                document.getElementById("max-btn").addEventListener("click", (e) => {
                    var window = BrowserWindow.getFocusedWindow();
                    if(window.isMaximized()){
                        window.unmaximize();
                    }else{
                        window.maximize();
                    }
                });

                // Close app
                document.getElementById("close-btn").addEventListener("click", (e) => {

                        localStorage.removeItem('path');

                        var window = BrowserWindow.getFocusedWindow();
                        window.close();  
                    
                });
            };

            document.onreadystatechange =  () => {
                if (document.readyState == "complete") {
                    init();
                }
            };
        })();

//UNDO & REDO
function undo(){
    editor.undo();
}
function redo(){
    editor.redo();
}

function saveJSON(){
//Default DATA if not Defined.
var data = {
Fsize: '28',
Fface: 'Consolas',
Theme: 'material',
NavHC: '#16cac1',
NavC: '#146cf8',
BtmHC: '#242424',
BtmC: '#146cf8'
};

    if(localStorage.getItem('size')!==undefined){
        data.Fsize = localStorage.getItem('size');
    }
    if(localStorage.getItem('lastFile')!==undefined){
       data.LastFile = localStorage.getItem('lastFile'); 
    }
    if(localStorage.getItem('face')!==undefined){
        data.Fface = localStorage.getItem('face');
    }
    if(localStorage.getItem('THEME')!==undefined){
        data.Theme = localStorage.getItem('Theme');
    }
    if(localStorage.getItem('NavHC')!==undefined){
        data.NavHC = localStorage.getItem('NavHC');
    }
    if(localStorage.getItem('NavC')!==undefined){
        data.NavC = localStorage.getItem('NavC');
    }
    if(localStorage.getItem('BtmHC')!==undefined){
        data.BtmHC = localStorage.getItem('BtmHC');
    }
    if(localStorage.getItem('BtmC')!==undefined){
        data.BtmC = localStorage.getItem('BtmC');
    }

    if (!fs.existsSync(localStorage.getItem('prevDir')+ '/' + '.protonable/')){
        fs.mkdirSync(localStorage.getItem('prevDir')+ '/' + '.protonable/');
    }

    // localStorage.clear();

    var jsonDat = JSON.stringify(data);
    fs.writeFile('.protonable/data.json', jsonDat, function (err) {
    if (err) throw err;
});

}

function loadFromJSON(){

}

var Mousetrap = require('mousetrap');   //For shortcuts
var app = require('electron').remote;   //For App methods.
var dialog = app.dialog;                //For Save/Open Dialog Boxes
var fs = require('fs');                 //For File Explorer

//To check the last worked file.
if(localStorage.getItem('lastFile')){
fs.readFile(localStorage.getItem('lastFile'), 'utf-8', (err, data)=>{

if(err){
    alert("Last File Was Deleted");
    localStorage.removeItem('lastFile');
    return;
    }
editor.setValue(data);
document.getElementById('fileInfo').innerText = localStorage.getItem('lastFile').replace(/^.*(\\|\/|\:)/, '');
var extension = path.extname(localStorage.getItem('lastFile'));
extensionCheck(extension);
readDir(path.dirname(localStorage.getItem('lastFile')));
})
};

//NEW,SAVE,OPEN ETC
var mode = document.getElementById('editor-mode');
var pathtofile;
function openfile(){
dialog.showOpenDialog( 
{title: 'Open File',
// filters: 
// [
    
// ]
},
(filenames)=>{

        if(filenames===undefined){

        }
        else{
        fs.readFile(filenames[0], 'utf-8', (err, data)=>{

        if(err){
            alert("ERROR: Cannot Read File");
            return;
            }
        editor.setValue(data);
        pathtofile = filenames[0];
        
        localStorage.setItem('lastFile', pathtofile);
        document.getElementById('fileInfo').innerText = path.basename(pathtofile);
        readDir(path.dirname(pathtofile));
        extension = path.extname(pathtofile);
        extensionCheck(extension);
    });
        }
    });
}
function extensionCheck(extension){

    if(extension === '.cpp' || extension === '.cc'|| extension === '.cxx'||extension ==='.hpp'||extension ==='.hh'||extension ==='.hxx'||extension ==='.h'){
            mode.innerText = "C++";
            editor.setOption("mode", "text/x-c++src");
            minimap.setOption("mode", "text/x-c++src");
        }
    else if(extension === '.c'){
            mode.innerText = "C";
            editor.setOption("mode", "text/x-csrc");
            minimap.setOption("mode", "text/x-csrc");
        }
    else if(extension === '.cs'||extension ==='.csx'||extension ==='.cake'){
            mode.innerText = "C#";
            editor.setOption("mode", "text/x-csharp");
        }
    else if(extension === '.java'||extension ==='.jav'){
            mode.innerText = "Java";
            editor.setOption("mode", "text/x-java");
            minimap.setOption("mode", "text/x-java");
        }
    
    else if(extension === '.html'||extension ==='.htm'){
            mode.innerText = "HTML";
        var mixedMode = {
        name: "htmlmixed",
        scriptTypes: [{matches: /\/x-handlebars-template|\/x-mustache/i,
                       mode: null},
                      {matches: /(text|application)\/(x-)?vb(a|script)/i,
                       mode: "vbscript"}]
      };
            editor.setOption("mode", mixedMode);
            minimap.setOption("mode", mixedMode);
            editor.setOption("autoCloseTags", true);
        
            getColorPick();

        }
    else if(extension === '.js' ||extension ==='.es6'||extension ==='.mjs'||extension ==='.pac'){
            mode.innerText = "JavaScript";
            editor.setOption("mode", "text/javascript");
            minimap.setOption("mode", "text/javascript");
        }
    else if(extension === '.json'||extension ==='.bowerrc'||extension ==='.jshintrc'||extension ==='.jscrsc'){
        mode.innerText = "JSON";
        editor.setOption('mode', 'application/json');
        minimap.setOption("mode", "application/json");
        }
    else if(extension === '.ts' || extension === '.tsx'){
        mode.innerText = "TypeScript";
        editor.setOption('mode', 'text/typescript');
        minimap.setOption("mode", "text/typescript");
        }

    else if(extension === '.css'){
            mode.innerText = "CSS";
            editor.setOption("mode", "text/css");
            minimap.setOption("mode", "text/css");
            getColorPick();
        }
    else if(extension === '.scss'){
            mode.innerText = "CSS";
            editor.setOption("mode", "text/x-scss");
            minimap.setOption("mode", "text/x-scss");
            getColorPick();
        }
    else if(extension === '.sass'){
            mode.innerText = "CSS";
            editor.setOption("mode", "text/x-sass");
            minimap.setOption("mode", "text/x-sass");
            getColorPick();
        }
    else if(extension === '.less'){
            mode.innerText = "CSS";
            editor.setOption("mode", "text/x-less");
            minimap.setOption("mode", "text/x-less");
            getColorPick();
        }
    

    else if(extension === '.go'){
            mode.innerText = "Go";
            editor.setOption("mode", "text/x-go");
            minimap.setOption("mode", "text/x-go");
        }
    else if(extension === '.py'){
    dialog.showMessageBox({
            type: 'info',
            buttons: ['Py-2', 'Py-3'],
            message: 'Choose Python Version: ',
        }, resp => {
            if (resp === 0) {
                // User selected 'Yes'
            editor.setOption("mode", 
            {name: "python",
               version: 2,}
               );
            minimap.setOption("mode", 
            {name: "python",
               version: 2,}
               );
            mode.innerText = "Python(2)";
            }else{
                editor.setOption("mode", 
            {name: "python",
               version: 3,}
               );
               minimap.setOption("mode", 
            {name: "python",
               version: 2,}
               );
               mode.innerText = "Python(3)";
            }
        });
            
        }
    else if(extension === '.md'||extension ==='.mkd'||extension ==='.mkdwn'||extension ==='.markdown'||extension ==='.markdn'||extension ==='.mdtxt'||extension ==='.mdtext'||extension ==='.workbook'){
            mode.innerText = "MarkDown";
            editor.setOption("mode", "text/x-markdown");
            minimap.setOption("mode", "text/x-markdown");
        }
    else if(extension === '.php'){
            mode.innerText = "PHP";
            editor.setOption("mode", "text/x-php");
            minimap.setOption("mode", "text/x-php");
        }
    else if(extension === '.txt' || extension === '.gitignore'){
        if(extension === 'gitignore'){
            mode.innerText = "gitignore";
        }
        if(extension === 'txt'){mode.innerText = "Text";}
            editor.setOption("mode", null);
            minimap.setOption("mode", null);
    }else{
        alert('File Type Not Supported');
        editor.setValue('');
        editor.clearHistory();
        document.getElementById('fileInfo').innerText = '';
        localStorage.removeItem('lastFile');
    }
    editor.refresh();
}
function newfile(){

    dialog.showSaveDialog(
    {title: 'Create New File',
    // filters: 
    // [
    // {name: 'C++ Files', extensions: ['cpp', 'c++', 'cxx']},
    // {name: 'Header Files', extensions: ['hpp', 'h++', 'h']}
    // ]
    },
    (filename)=>{

    if(filename === undefined){
        return;
    }
    
    pathtofile = filename;
    localStorage.setItem('lastFile', pathtofile);
        document.getElementById('fileInfo').innerText = path.basename(pathtofile);
        extension = path.extname(pathtofile);
        extensionCheck(extension);
        editor.setValue('');
        savefile();
        readDir(path.dirname(pathtofile));
});
}
function savefile(){
    var content = editor.getValue();
    if(pathtofile === undefined && localStorage.getItem('lastFile') === undefined ){
        newfile();
    }else if(pathtofile === undefined){
        if(localStorage.getItem('lastFile')!==undefined){
            pathtofile = localStorage.getItem('lastFile');
        }
    }
    fs.writeFile(localStorage.getItem('lastFile'), content, (err)=>{
        if(err) alert(err);
    });
    localStorage.setItem('path', pathtofile);
}
function newproject(){
    $('#Propath').modal('show');
}


function MiniMap(){
    editor.setCursor(minimap.getCursor().line, 0);
    editor.focus();
    console.log('Hello');    
}

//CHANGE LINE/COLOUMN
var line = document.getElementById('line-no.');
var col  = document.getElementById('col-no.');
function updateInfo(){
   line.innerText = editor.getCursor().line+1;
   col.innerText = editor.getCursor().ch + 1;
   minimap.setValue(editor.getValue());
}
editor.on("cursorActivity", updateInfo);

Mousetrap.bind(['command+s','ctrl+s'], function() { savefile(); return false;});
Mousetrap.bind(['command+n', 'ctrl+n'], function(){ newfile(); return false;});
Mousetrap.bind(['shift+command+n', 'shift+ctrl+n'], function(){newproject(); return false;});
Mousetrap.bind(['command+o', 'ctrl+o'], function(){openfile(); return false;});
Mousetrap.bind(['shift+command+s', 'shift+ctrl+s'], function(){newfile(); return false;} );
Mousetrap.bind(['shift+command+f', 'shift+ctrl+f'], function(){showReplace(); return false;});
Mousetrap.bind(['command+f', 'ctrl+f'], function(){showFind(); return false;});
Mousetrap.bind(['command+z', 'ctrl+z'], function(){undo(); return false;});
Mousetrap.bind(['command+y', 'ctrl+y'], function(){redo(); return false;});
Mousetrap.bind(['command+d', 'ctrl+d'], function(){FocusMode(false); return false;})
Mousetrap.bind(['shift+command+d', 'shift+ctrl+d'], function(){FocusMode(true); return false;})

//Working for Timer

//Go To Functionability
function changePos(){
    if(document.getElementById('lineNoValue').value>=1 && document.getElementById('lineNoValue').value !==undefined){
    var lineNoValue = document.getElementById('lineNoValue').value-1;
    }else{
        lineNoValue = editor.getCursor().line;
    }
    if(document.getElementById('colNoValue').value>=1 && document.getElementById('colNoValue').value !==undefined ){
        colNoValue = document.getElementById('colNoValue').value-1;
    }else{
        colNoValue = editor.getCursor().ch;
    }
    editor.setCursor(lineNoValue, colNoValue);
    editor.focus();
};


minimap.setOption("theme", editor.getOption("theme"));

//File Explorer Part moved in renderer.js
readDir('.');
</script>

<script>
    require('./renderer.js')
</script>

</html>